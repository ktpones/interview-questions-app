(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-97fb76a8"],{"0f7d":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.errorMessage?s("div",{ref:"error",staticClass:"alert alert-danger",style:e.messageStyle,attrs:{role:"alert"}},[s("strong",[e._v(e._s(e.errorMessage))])]):e._e()},r=[],i={name:"Notifiation",data:function(){return{errorMessage:this.err,timeOut:5e3}},props:{err:{type:String,default:""},color:{type:String,default:"#a94442"},borderColor:{type:String,default:"#ccc"}},methods:{hideError:function(){var e=this;setTimeout(function(){e.$refs.error.style.display="none",e.errorMessage=""},this.timeOut)}},computed:{messageStyle:function(){return{color:this.color}}},created:function(){this.errorMessage&&this.hideError()}},n=i,u=s("2877"),o=Object(u["a"])(n,a,r,!1,null,null,null);t["a"]=o.exports},"54dc":function(e,t,s){"use strict";var a=s("f632"),r=s.n(a);r.a},f632:function(e,t,s){},faad:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-content t-profile-update"},[e._m(0),s("Spinner",{attrs:{status:e.spinner.status,color:e.spinner.color,size:e.spinner.size,depth:e.spinner.depth,rotation:e.spinner.rotation,speed:e.spinner.speed}}),e.spinner.status?e._e():s("div",{staticClass:"form-style form-style-4"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[e.err?s("Notifiation",{attrs:{err:e.err}}):e._e(),s("div",{staticClass:"form-inputs clearfix"},[s("p",{staticStyle:{width:"100% !important"}},[s("label",{staticClass:"required"},[e._v("Select Profile Picture")]),s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.avatar,expression:"user.avatar"}],attrs:{type:"radio",value:"funkyhe.svg"},domProps:{checked:e._q(e.user.avatar,"funkyhe.svg")},on:{change:[function(t){return e.$set(e.user,"avatar","funkyhe.svg")},e.avatar]}}),e._m(1)]),s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.avatar,expression:"user.avatar"}],attrs:{type:"radio",value:"buisness.svg"},domProps:{checked:e._q(e.user.avatar,"buisness.svg")},on:{change:[function(t){return e.$set(e.user,"avatar","buisness.svg")},e.avatar]}}),e._m(2)]),s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.avatar,expression:"user.avatar"}],attrs:{type:"radio",value:"cool.svg"},domProps:{checked:e._q(e.user.avatar,"cool.svg")},on:{change:[function(t){return e.$set(e.user,"avatar","cool.svg")},e.avatar]}}),e._m(3)]),s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.avatar,expression:"user.avatar"}],attrs:{type:"radio",value:"funkyshe.svg"},domProps:{checked:e._q(e.user.avatar,"funkyshe.svg")},on:{change:[function(t){return e.$set(e.user,"avatar","funkyshe.svg")},e.avatar]}}),e._m(4)]),s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.avatar,expression:"user.avatar"}],attrs:{type:"radio",value:"professional.svg"},domProps:{checked:e._q(e.user.avatar,"professional.svg")},on:{change:[function(t){return e.$set(e.user,"avatar","professional.svg")},e.avatar]}}),e._m(5)]),s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.avatar,expression:"user.avatar"}],attrs:{type:"radio",value:"stylish.svg"},domProps:{checked:e._q(e.user.avatar,"stylish.svg")},on:{change:[function(t){return e.$set(e.user,"avatar","stylish.svg")},e.avatar]}}),e._m(6)])]),s("p",[e._m(7),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"custom-input",attrs:{type:"text"},domProps:{value:e.user.username},on:{keyup:e.checkUsername,input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),s("p",[e._m(8),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"custom-input",attrs:{type:"email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),s("p",[s("label",[e._v("First Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.firstname,expression:"user.firstname"}],staticClass:"custom-input",attrs:{type:"text"},domProps:{value:e.user.firstname},on:{input:function(t){t.target.composing||e.$set(e.user,"firstname",t.target.value)}}})]),s("p",[s("label",[e._v("Last Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastname,expression:"user.lastname"}],staticClass:"custom-input",attrs:{type:"text"},domProps:{value:e.user.lastname},on:{input:function(t){t.target.composing||e.$set(e.user,"lastname",t.target.value)}}})]),s("p",{staticStyle:{width:"100%"}},[s("label",[e._v("About Yourself")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.user.bio,expression:"user.bio"}],staticClass:"custom-input",attrs:{cols:"58",rows:"8"},domProps:{value:e.user.bio},on:{input:function(t){t.target.composing||e.$set(e.user,"bio",t.target.value)}}})])]),s("p",{staticClass:"form-submit"},[s("input",{staticClass:"button color small login-submit submit",attrs:{disabled:e.isSubmit,type:"submit"},domProps:{value:e.isSubmit?"Saving ...":"Save"}})])],1)])],1)},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"boxedtitle page-title"},[s("h2",[e._v("Update Profile")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"user-profile-img"},[s("img",{attrs:{width:"60",height:"60",src:"/img/profile/funkyhe.svg",value:"S",alt:"profile-pic"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"user-profile-img"},[s("img",{attrs:{width:"60",height:"60",src:"/img/profile/buisness.svg",alt:"profile-pic"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"user-profile-img"},[s("img",{attrs:{width:"60",height:"60",src:"/img/profile/cool.svg",alt:"profile-pic"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"user-profile-img"},[s("img",{attrs:{width:"60",height:"60",src:"/img/profile/funkyshe.svg",alt:"profile-pic"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"user-profile-img"},[s("img",{attrs:{width:"60",height:"60",src:"/img/profile/professional.svg",alt:"profile-pic"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"user-profile-img"},[s("img",{attrs:{width:"60",height:"60",src:"/img/profile/stylish.svg",alt:"profile-pic"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"required"},[e._v("\n            Username\n            "),s("span",[e._v("*")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"required"},[e._v("\n            E-Mail\n            "),s("span",[e._v("*")])])}],i=(s("7f7f"),s("0f7d")),n=s("2375"),u=s("fd88"),o=s("c7a3"),l={name:"ProfileUpdate",components:{Spinner:n["a"],Notifiation:i["a"]},mixins:[o["a"]],data:function(){return{isSubmit:!1,err:"",user:{firstname:"",lastname:"",username:"",email:"",bio:"",avatar:"funkyhe.svg"},isChecking:!1}},methods:{scrollToTop:function(){window.scrollTo(0,0)},avatar:function(e){var t=e.target.value;this.user.avatar=t},checkUsername:function(e){var t=this,s=e.target.value;clearTimeout(this.debounce),s.trim()&&(this.err="",this.debounce=setTimeout(function(){t.$http.post("".concat(t.$BASE_URL,"api/v1/auth/username"),{username:s},{errorHandle:!1}).then(function(e){var s=e.data,a=s.message,r=s.data;r||(t.isSubmit=!1,t.user.username="",t.err=a)}).catch(function(e){t.isSubmit=!1,t.err=e,t.scrollToTop()})},600))},profile:function(){var e=this;this.$http.get("".concat(this.$BASE_URL,"api/v1/auth/user")).then(function(t){e.user=t.data.data,e.user&&e.user.tags&&e.user.tags.length&&(e.tags=e.user.tags.map(function(e){return{text:e.name,_id:e._id}})),e.spinner.status=!1})},handleSubmit:function(){var e=this;this.isSubmit=!0,this.err="";var t={};this.user.firstname&&(t.firstname=this.user.firstname),this.user.bio&&(t.bio=this.user.bio),this.user.lastname&&(t.lastname=this.user.lastname),this.user.username&&(t.username=this.user.username),this.user.email&&(t.email=this.user.email),t.avatar=this.user.avatar,this.$http.put("".concat(this.$BASE_URL,"api/v1/auth/user"),t,{errorHandle:!1}).then(function(t){var s=t.data,a=s.message,r=s.data;e.isSubmit=!1,e.$store.dispatch("auth/updateUsername",{type:"AUTH_UPDATE_USERNAME",payload:{username:r.username}}).then(function(){u["a"].success(a),e.$router.push("/@".concat(r.username))})}).catch(function(t){e.isSubmit=!1,e.err=t,e.scrollToTop()})}},mounted:function(){this.profile()}},c=l,m=(s("54dc"),s("2877")),p=Object(m["a"])(c,a,r,!1,null,"415d879f",null);t["default"]=p.exports}}]);