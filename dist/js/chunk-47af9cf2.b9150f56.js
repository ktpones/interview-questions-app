(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47af9cf2"],{"0f7d":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.errorMessage?e("div",{ref:"error",staticClass:"alert alert-danger",style:t.messageStyle,attrs:{role:"alert"}},[e("strong",[t._v(t._s(t.errorMessage))])]):t._e()},i=[],r={name:"Notifiation",data:function(){return{errorMessage:this.err,timeOut:5e3}},props:{err:{type:String,default:""},color:{type:String,default:"#a94442"},borderColor:{type:String,default:"#ccc"}},methods:{hideError:function(){var t=this;setTimeout(function(){t.$refs.error.style.display="none",t.errorMessage=""},this.timeOut)}},computed:{messageStyle:function(){return{color:this.color}}},created:function(){this.errorMessage&&this.hideError()}},o=r,n=e("2877"),u=Object(n["a"])(o,a,i,!1,null,null,null);s["a"]=u.exports},a55b:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row"},[t.isLogin&&!t.isForget?e("AppLogin",{on:{loginSwapEvent:t.showForgot}}):t._e(),!t.isLogin&&t.isForget?e("AppForgot",{on:{loginSwapEvent:t.showForgot}}):t._e(),t.isLogin||t.isForget?t._e():e("AppResetPassword",{on:{loginSwapEvent:t.showForgot}}),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"page-content Register"},[e("h2",[t._v("Register Now")]),t._m(0),e("router-link",{staticClass:"button color small signup",attrs:{to:"/register"}},[t._v("Create an account")])],1)])],1)},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v("\n        Create your\n        "),e("strong",[t._v("SumaniX")]),t._v(" account. It's free and only takes a minute..\n      ")])}],r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"page-content"},[e("h2",[t._v("Login")]),e("div",{staticClass:"form-style form-style-3"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.handleSubmit(s)}}},[t.err?e("Notifiation",{attrs:{err:t.err}}):t._e(),e("div",{staticClass:"form-inputs clearfix"},[e("p",{staticClass:"login-text"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],attrs:{type:"email",value:"Email",placeholder:"Email"},domProps:{value:t.user.email},on:{input:function(s){s.target.composing||t.$set(t.user,"email",s.target.value)}}}),e("i",{staticClass:"icon-envelope"})]),e("p",{staticClass:"login-password"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{placeholder:"Password",type:"password",value:"Password"},domProps:{value:t.user.password},on:{input:function(s){s.target.composing||t.$set(t.user,"password",s.target.value)}}}),e("i",{staticClass:"icon-lock"}),e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(s){return t.showForgot(!0)}}},[t._v("Forget")])])]),e("p",{staticClass:"form-submit login-submit"},[e("input",{staticClass:"button color small login-submit submit",attrs:{disabled:t.isSubmit,type:"submit"},domProps:{value:t.isSubmit?"Logging In ...":"Log in"}})]),e("div",{staticClass:"rememberme"})],1)])])])},o=[],n=e("0f7d"),u=e("fd88"),l={name:"AppLogin",data:function(){return{err:"",isSubmit:!1,user:{email:"",password:""}}},components:{Notifiation:n["a"]},methods:{showForgot:function(t){this.$emit("loginSwapEvent",t)},handleSubmit:function(){var t=this;this.err="",this.isSubmit=!0;var s={email:this.user.email,password:this.user.password};this.$http.post("".concat(this.$BASE_URL,"api/v1/auth/login"),s,{errorHandle:!1}).then(function(s){t.isSubmit=!1;var e=s.data,a=e.token,i=e.data,r=e.message;t.$store.dispatch("auth/saveSession",{token:a,user:i}).then(function(){u["a"].success(r),t.$router.push(t.$route.query.redirect||"/")})}).catch(function(s){t.isSubmit=!1,t.err=s})}}},c=l,m=e("2877"),p=Object(m["a"])(c,r,o,!1,null,null,null),d=p.exports,h=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"page-content"},[e("h2",[t._v(t._s(t.popupMessage?t.popupMessage:"Forgot Password"))]),t.popupMessage?t._e():e("div",{staticClass:"form-style form-style-3"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.handleSubmit(s)}}},[t.err?e("Notifiation",{attrs:{err:t.err}}):t._e(),e("div",{staticClass:"form-inputs clearfix"},[e("p",{staticClass:"login-password"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",value:"Email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}}),e("i",{staticClass:"icon-user"}),e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(s){return t.showForgot(!1)}}},[t._v("Back to login")])])]),e("p",{staticClass:"form-submit login-submit"},[e("input",{staticClass:"button color small login-submit submit",attrs:{disabled:t.isSubmit,type:"submit"},domProps:{value:t.isSubmit?"Sending ...":"Send Recovery Email"}})]),e("div",{staticClass:"rememberme"})],1)])])])},g=[],f={name:"AppForgot",data:function(){return{err:"",isSubmit:!1,email:"",popupMessage:""}},components:{Notifiation:n["a"]},methods:{showForgot:function(t){this.$emit("loginSwapEvent",t)},handleSubmit:function(){var t=this;this.err="",this.isSubmit=!0;var s={email:this.email};this.$http.post("".concat(this.$BASE_URL,"api/v1/auth/forgotpassword"),s,{errorHandle:!1}).then(function(s){t.popupMessage=s.data.message,t.isSubmit=!1}).catch(function(s){t.err=s,t.isSubmit=!1})}}},v=f,w=Object(m["a"])(v,h,g,!1,null,null,null),b=w.exports,S=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-md-6"},[t.showScreen?e("div",{staticClass:"page-content"},[e("h2",[t._v("Reset Password")]),e("div",{staticClass:"form-style form-style-3"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.handleSubmit(s)}}},[t.err?e("Notifiation",{attrs:{err:t.err}}):t._e(),e("div",{staticClass:"form-inputs clearfix"},[e("p",{staticClass:"login-password"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"Password",type:"password",value:"Password"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}}),e("i",{staticClass:"icon-lock"})])]),e("p",{staticClass:"form-submit login-submit"},[e("input",{staticClass:"button color small login-submit submit",attrs:{disabled:t.isSubmit,type:"submit"},domProps:{value:t.isSubmit?"Updating Password ...":"Change Password"}})]),e("div",{staticClass:"rememberme"})],1)])]):t._e()])},_=[],C={name:"AppResetPassword",data:function(){return{err:"",isSubmit:!1,showScreen:!1,password:""}},components:{Notifiation:n["a"]},methods:{checkAuthentication:function(t,s){var e=this;this.$http.get("".concat(this.$BASE_URL,"api/v1/auth/forgotPassword?username=").concat(t,"&hash=").concat(s),{errorHandle:!1}).then(function(t){var s=t.data.message;u["a"].success(s),e.showScreen=!0}).catch(function(t){u["a"].error(t)})},handleSubmit:function(){var t=this;if(!this.password.trim())return!1;this.err="",this.isSubmit=!0;var s={password:this.password,username:this.$route.params.username,hash:this.$route.params.hash};return this.$http.post("".concat(this.$BASE_URL,"api/v1/auth/user/resetPassword"),s,{errorHandle:!1}).then(function(s){var e=s.data,a=e.token,i=e.data,r=e.message;t.isSubmit=!1,t.$store.dispatch("auth/saveSession",{token:a,user:i}).then(function(){u["a"].success(r),t.$router.push("/")})}).catch(function(s){t.err=s,t.isSubmit=!1})}},created:function(){this.$route.params.username&&this.$route.params.hash&&(this.showScreen=!0)}},$=C,y=Object(m["a"])($,S,_,!1,null,null,null),E=y.exports,P=e("1b62"),F={name:"Login",components:{AppLogin:d,AppForgot:b,AppResetPassword:E},mixins:[P["a"]],data:function(){return{isLogin:!0,isForget:!1,username:!1,hash:!1}},methods:{showForgot:function(t){this.isForget=t,this.isLogin=!t}},created:function(){document.title=this.title("Login In"),this.$route.params.username&&this.$route.params.hash&&(this.isLogin=!1,this.isForget=!1)}},L=F,k=Object(m["a"])(L,a,i,!1,null,null,null);s["default"]=k.exports}}]);